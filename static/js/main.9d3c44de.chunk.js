(this["webpackJsonprick-and-morty-graphql"]=this["webpackJsonprick-and-morty-graphql"]||[]).push([[0],{131:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);n(131);var c,r,a,i=n(122),s=n(53),l=n(16),o=n(62),d=n(2),u=n(26),j=n(25),b=n(29),h={};!function(e){e.Public="PUBLIC",e.Private="PRIVATE"}(a||(a={}));Object(b.gql)(c||(c=Object(j.a)(["\n    fragment CharacterSnippet on Character {\n  name\n  id\n  image\n  status\n}\n    "])));var f=Object(b.gql)(r||(r=Object(j.a)(["\n    query GetCharacters($pageId: Int) {\n  characters(page: $pageId) {\n    info {\n      next\n      prev\n    }\n    results {\n      status\n      name\n      id\n      image\n    }\n  }\n}\n    "])));var m,g,p=n(126),O=n(60),x=n(28),v=Object(x.a)((function(e){return{char:null,actions:{set_char:function(t){return e((function(){return{char:t}}))}}}})),y=Object(x.a)((function(e){return{color:"transparent",set_color:function(t){return e((function(){return{color:t}}))}}})),N=n(4),k=O.a.div(m||(m=Object(j.a)(['\n  position: relative;\n  width: 100%;\n\n  &:after {\n    content: "";\n    display: block;\n    padding-bottom: 100%;\n  }\n']))),w=function(){var e=v((function(e){return e.char})),t=Object(p.usePalette)(e?e.image:"").data,n=y((function(e){return e.set_color}));if(Object(d.useEffect)((function(){t&&(t.lightMuted&&(document.body.style.backgroundColor=t.lightMuted),t.vibrant&&n(t.vibrant))}),[t,n]),!e)return Object(N.jsx)(k,{className:"flex items-center justify-center",children:Object(N.jsx)("span",{children:"Loading..."})});var c=e.image,r=e.name,a=e.status;return Object(N.jsx)("div",{className:"bg-red-500",children:Object(N.jsx)("img",{src:c,alt:r,width:"100%",height:"auto",className:"block rounded filter ".concat("Dead"===a&&"grayscale")})})},C=function(){var e=v((function(e){return e.char}));if(!e)return Object(N.jsx)("div",{children:"loading..."});var t=e.name;return Object(N.jsx)("div",{style:{lineHeight:"initial"},className:"md:overflow-hidden\tmd:overflow-ellipsis font-black md:text-".concat(t.length>16?"7":"8","xl text-3xl"),children:t})},I=n(130),_=O.a.img(g||(g=Object(j.a)(["\n  height: auto;\n  width: 100%;\n  max-width: 120px;\n  min-height: 120px;\n"]))),q=function(e){var t=e.name,n=e.image,c=v((function(e){return e.actions.set_char}));return Object(N.jsx)(d.Fragment,{children:Object(N.jsx)("div",{className:"cursor-pointer",onClick:function(){return c(e)},children:Object(N.jsx)(_,{className:"block rounded-md",src:n,alt:t})})})},E=function(e){var t=e.children;return Object(N.jsx)("div",{className:"grid grid-flow-row grid-cols-3 md:grid-cols-6 lg:grid-cols-7 place-items-center gap-4",children:t})},P=function(e){var t=e.data,n=e.loading,c=e.error;console.log("render ListCharcter");var r=v((function(e){return e.actions.set_char}));return Object(d.useEffect)((function(){t&&t.length&&r(t[0])}),[t,r]),n?Object(N.jsx)(E,{children:Object(I.a)(new Array(21).keys()).map((function(e){return Object(N.jsx)("div",{className:"animate-pulse",children:Object(N.jsx)("div",{style:{width:120,height:120},className:"rounded-md bg-gray-300 h-full w-full"})},e)}))}):c?Object(N.jsx)("p",{children:"Error "}):t?Object(N.jsx)(E,{children:t.map((function(e){return Object(N.jsx)(q,Object(u.a)({},e),e.id)}))}):Object(N.jsx)("p",{children:"Sin resultados"})},A=Object(d.memo)(P),L=Object(x.a)((function(e){return{page:1,actions:{set_page:function(t){return e((function(){return{page:t}}))}}}})),M=function(){var e=L((function(e){return e.page})),t=L((function(e){return e.actions.set_page})),n=y((function(e){return e.color})),c=function(e){var t=Object(u.a)(Object(u.a)({},h),e);return b.useLazyQuery(f,t)}(),r=Object(o.a)(c,2),a=r[0],i=r[1],s=i.data,l=i.loading,j=i.error;Object(d.useEffect)((function(){a({variables:{pageId:e}})}),[a,e]);var m=Object(d.useCallback)((function(){(null===s||void 0===s?void 0:s.characters)&&t(s.characters.info.next)}),[s,t]),g=Object(d.useCallback)((function(){(null===s||void 0===s?void 0:s.characters)&&t(s.characters.info.prev)}),[s,t]);return Object(N.jsx)("div",{className:"m-auto max-w-screen-lg h-auto min-h-screen flex items-center",children:Object(N.jsxs)("div",{className:"grid grid-cols-12 gap-5 w-full pb-3",children:[Object(N.jsxs)("div",{className:"col-span-12 grid grid-cols-12 sticky top-0 z-10",style:{backgroundColor:n},children:[Object(N.jsx)("div",{className:"col-span-8 flex items-end",children:Object(N.jsx)("div",{className:"w-full text-right",children:Object(N.jsx)(C,{})})}),Object(N.jsx)("div",{className:"col-span-4",children:Object(N.jsx)(w,{})})]}),Object(N.jsx)("div",{className:"col-span-12",children:Object(N.jsx)(A,{data:s?s.characters.results:[],loading:l,error:j})}),Object(N.jsxs)("div",{className:"col-span-12 text-center font-black sticky bottom-0",style:{backgroundColor:n},children:[Object(N.jsx)("div",{className:"text-center font-black",children:Object(N.jsx)("span",{children:e})}),Object(N.jsxs)("div",{className:"grid grid-cols-12 ",children:[Object(N.jsx)("div",{className:"col-span-6",children:Object(N.jsx)("button",{className:"uppercase w-full btn ".concat(!s||!s.characters.info.prev&&"opacity-50"),onClick:g,disabled:!s||!s.characters.info.prev,children:"prev"})}),Object(N.jsx)("div",{className:"col-span-6",children:Object(N.jsx)("button",{className:"uppercase w-full btn ".concat(!s||!s.characters.info.next&&"opacity-50"),onClick:m,disabled:!s||!s.characters.info.next,children:"next"})})]})]})]})})},z=new l.ApolloClient({uri:"https://rickandmortyapi.com/graphql",cache:new l.InMemoryCache});function B(){return Object(N.jsx)(s.ApolloProvider,{client:z,children:Object(N.jsx)(M,{})})}var J=document.getElementById("root");Object(i.render)(Object(N.jsx)(B,{}),J)}},[[269,1,2]]]);
//# sourceMappingURL=main.9d3c44de.chunk.js.map